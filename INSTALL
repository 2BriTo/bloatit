************************************
*  Install and configure lighttpd  *
************************************

Install lighttpd:
apt-get install lighttpd

In '/etc/lighttpd/lighttpd.conf' modify the filed 'server.document-root' 
to 'www' folder in bloatit.
Example:
server.document-root       = "/home/fred/projets/bloatit/www"

Uncomment 'mod_rewrite' in 'server.modules'

Create  '/etc/lighttpd/conf-available/10-scgi.conf', fill it following this
template:

server.modules   += ( "mod_scgi" )
scgi.server = (
    "serve.py" =>
    (
        "python-scgi" =>
        (
         "host" => "127.0.0.1",
         "port" => 4000,
         "check-local" => "disable",
        )
    ))


Create a symbolic link of '10-scgi.conf' in '/etc/lighttpd/conf-enabled/':
cd /etc/lighttpd/conf-enabled/
ln -s ../conf-available/10-scgi.conf

Create a symbolic link of 'lighttpd/rewrite.lighttpd.conf' in '/etc/lighttpd/conf-enabled/':
cd /etc/lighttpd/conf-enabled/
ln -s /home/fred/projets/bloatit/lighttpd/rewrite.lighttpd.conf

******************
*  Install scgi  *
******************

Install python headers:
sudo apt-get install python3-dev

Build and install scgi
cd lib/scgi
sudo python3 setup.py install

**********************
* Update python path *
**********************

Create a link for python to find the project :
cd /usr/lib/python3.1/dist-packages/
sudo ln -s /home/.............bloatit/src/bloatit

(You can also modify PYTHONPATH)

*****************
* Build locales *
*****************
Install internationnalize tools :
sudo apt-get install gettext

Compile languages:

cd po
./compilepo.sh

**************************
*  Start BloatIt server  *
**************************

python3 src/bloatit/scgiserver/serve.py




**********************
*  Restart lighttpd  *
**********************

Restart lighttpd config:
service lighttpd restart

Verify the loading in logs:
cat /var/log/lighttpd/error.log

Test it: http://127.0.0.1/serve.py

