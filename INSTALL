************************************
*  Install and configure lighttpd  *
************************************
Install lighttpd:
apt-get install lighttpd

In '/etc/lighttpd/lighttpd.conf' modify the filed 'server.document-root' 
to 'www' folder in bloatit.
Example:
server.document-root       = "/home/fred/projets/bloatit/www"

## MODIFY lighttpd.conf :
Uncomment 'mod_rewrite' in 'server.modules'

Add line : server.error-handler-404  = "/en/dopagenotfound" 

Create a symbolic link of '.../deployment/files/fastcgi.conf' in '/etc/lighttpd/conf-enabled/':
cd /etc/lighttpd/conf-enabled/
ln -s /home/fred/bloatit/deployment/files/fastcgi.conf

Create a symbolic link of '.../deployment/files/rewrite.lighttpd.conf' in '/etc/lighttpd/conf-enabled/':
cd /etc/lighttpd/conf-enabled/
ln -s /home/fred/bloatit/deployment/files/rewrite.lighttpd.conf

**********************
*  Restart lighttpd  *
**********************
Restart lighttpd config:
service lighttpd restart

Verify the loading in logs:hibernate.cfg.xml not found
cat /var/log/lighttpd/error.log

**********************
* Install postgresql *
**********************
# Install the postgresql package
sudo apt-get install postgresql
sudo apt-get install postgresql-client

# Use the postgres User to create a new DB and a new User
sudo su postgres
psql
#> CREATE USER bloatit;
#> ALTER ROLE bloatit WITH createdb;
#> CREATE DATABASE bloatit OWNER bloatit;
#> ALTER USER bloatit WITH ENCRYPTED PASSWORD 'passe' ;
#>\q

# change the authentification method
vim /etc/postgresql/8.4/main/pg_hba.conf 
# Go to the end of the file.
# change ident to md5 [EXCEPT FOR THE USER "postgres"]

#leave the postgres session
exit

# restart the server
sudo service postgresql restartliquibase-launcher.sh

# Initialize the database
# go to <Project Home>/main/liquibase
# execute liquibase-launcher.sh update
cd main/liquibase
./liquibase-launcher.sh update

************************************
*  Install gettext                 *
************************************

sudo apt-get install gettext

************************************
*  Configure the java server       *
************************************
-> copy the files/folders from etc/ to ~/.config/bloatit/
   There are value to configure, see the comments in the files.

-> copy the files/folders from share/ to ~/.local/share/bloatit/

************************************
*  Configure access right          *
************************************

The lighttpd process will need to read in ~/.local/share (depending of java 
process user). You may need to run the java process with the lighttpd user or 
change the right:

chmod 777 ~/.local
chmod 777 ~/.local/share


Create directory /var/local/lucene/indexes and give write right to it.


************************************
*  Install and run                 *
************************************

mvn clean install -Dmaven.test.skip=true
cd main
mvn exec:java

